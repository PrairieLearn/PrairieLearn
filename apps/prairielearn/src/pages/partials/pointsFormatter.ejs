<%
/* This function is used in EJS functions to format points, and remains in
 * place until EJS is fully migrated. Any new code, including conversion of
 * code that previously used this file, should use the equivalent functions
 * in lib/format.ts instead (either formatPoints or formatPointsOrList).
 */
getStringFromFloat = function(v) {
  if (v == null) {
    return 'â€”';
  }

  var getStringFromSingleFloat = function(v) {
    return (Math.floor(v*100)/100).toFixed(2).replace(/\.?0+$/, "");
  }

  if (!v.hasOwnProperty("length")) {
    v = [v];
  }

  var s = [];
  for (var i = 0; i < v.length; i++) {
    s.push(getStringFromSingleFloat(v[i]));
  }
  return s.join(', ');
}
%>
