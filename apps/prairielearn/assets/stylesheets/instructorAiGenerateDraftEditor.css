.app-content-container {
  grid-area: content;
  min-height: 0;
  height: 100%;
}

.app-content {
  grid-area: content;

  height: 100%;
  display: grid;
  grid-template-areas: 'back preview-tabs' 'chat preview';
  grid-template-rows: min-content 1fr;
  grid-template-columns: var(--chat-width, 400px) 1fr;
}

.app-chat-container {
  grid-area: chat;
  min-height: 0;
}

.app-chat {
  display: grid;
  grid-template-areas: 'history' 'prompt';
  grid-template-rows: 1fr min-content;
  height: 100%;
}

.app-back {
  grid-area: back;
}

.app-chat-history {
  grid-area: history;
  position: relative;
  min-height: 0;
  min-width: 0;
}

.app-chat-prompt {
  grid-area: prompt;
}

.app-preview-tabs {
  grid-area: preview-tabs;
}

.app-preview {
  grid-area: preview;
  min-height: 0;
  overflow-y: auto;
}

.app-chat-resizer {
  position: absolute;
  top: 0;
  right: 0;
  width: 6px;
  height: 100%;
  cursor: col-resize;
  /* Wider hit area without visual noise */
  background: transparent;
}

.app-chat-resizer:hover {
  background: rgba(0, 0, 0, 0.05);
}

.question-wrapper {
  max-width: 900px;
}

.editor-panes {
  display: grid;
  grid-template-areas: 'status status' 'html python';
  grid-template-rows: min-content 1fr;
  grid-template-columns: 1fr 1fr;
  height: 100%;
}

.editor-pane-status {
  grid-area: status;
}

.editor-pane-html {
  grid-area: html;
}

.editor-pane-python {
  grid-area: python;
}

/* Reflow to a vertical layout on narrow viewports */
@media (max-width: 768px) {
  .app-content {
    grid-template-areas: 'back' 'chat' 'preview-tabs' 'preview';
    grid-template-columns: 1fr;
    height: unset;
  }

  .editor-pane-html,
  .editor-pane-python {
    min-height: 300px;
  }
}

@media (max-width: 1400px) {
  /* On narrower viewports, tile the editors vertically */
  .editor-panes {
    grid-template-areas: 'status' 'html' 'python';
    grid-template-rows: min-content 1fr 1fr;
    grid-template-columns: 1fr;
  }
}

.markdown-body :last-child {
  margin-bottom: 0;
}
