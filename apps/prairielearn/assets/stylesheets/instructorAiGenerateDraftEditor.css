.app-content-container {
  grid-area: content;
  min-height: 0;
  height: 100%;
}

.app-content {
  grid-area: content;

  height: 100%;
  display: grid;
  grid-template-areas: 'preview-tabs chat' 'preview chat';
  grid-template-rows: min-content 1fr;
  grid-template-columns: 1fr var(--chat-width, 500px);
}

.app-chat-container {
  grid-area: chat;
  min-height: 0;
}

.app-chat {
  display: grid;
  grid-template-areas: 'history' 'prompt';
  grid-template-rows: 1fr min-content;
  height: 100%;
  position: relative;
}

.app-chat-history {
  grid-area: history;
  position: relative;
  min-height: 0;
  min-width: 0;
}

.app-chat-prompt {
  grid-area: prompt;
}

.app-preview-tabs {
  grid-area: preview-tabs;
  min-width: 0;
}

.question-title-bar > * {
  /* Allow flex children to truncate inside the wrapped flex container */
  min-width: 0;
}

.inline-editable-display {
  border: none;
  background: transparent;
  padding: 0;
  font: inherit;
  color: inherit;
  text-align: inherit;
  cursor: pointer;
  overflow: hidden;
  /* Match the height of form-control-sm so the bar doesn't shift between display/edit modes. */
  min-height: calc(1.5em + 0.5rem + 2px);
}

.inline-editable-edit {
  /* Match the display mode height so the bar doesn't shift when toggling edit mode. */
  min-height: calc(1.5em + 0.5rem + 2px);
}

.inline-editable-display:disabled {
  cursor: default;
}

.inline-editable-display:hover:not(:disabled) {
  background-color: rgba(0, 0, 0, 0.04);
}

.inline-editable-display .bi-pencil {
  opacity: 0;
  transition: opacity 0.15s;
}

.inline-editable-display:hover:not(:disabled) .bi-pencil,
.inline-editable-display:focus-visible .bi-pencil {
  opacity: 1;
}

.app-preview {
  grid-area: preview;
  min-height: 0;
  overflow-y: auto;
}

.app-chat-resizer {
  position: absolute;
  top: 0;
  left: 0;
  width: 6px;
  height: 100%;
  cursor: col-resize;
  /* Wider hit area without visual noise */
  background: transparent;
}

.app-chat-resizer:hover {
  background: rgba(0, 0, 0, 0.05);
}

.question-wrapper {
  max-width: 900px;
}

.editor-panes {
  display: grid;
  grid-template-areas: 'status status' 'html python';
  grid-template-rows: min-content 1fr;
  grid-template-columns: 1fr 1fr;
  height: 100%;
}

.editor-pane-status {
  grid-area: status;
}

.editor-pane-html {
  grid-area: html;
}

.editor-pane-python {
  grid-area: python;
}

/* Reflow to a vertical layout on narrow viewports */
@media (max-width: 768px) {
  .app-content {
    grid-template-areas: 'preview-tabs' 'preview' 'chat';
    grid-template-columns: 1fr;
    height: unset;
  }

  .editor-pane-html,
  .editor-pane-python {
    min-height: 300px;
  }
}

@media (max-width: 1400px) {
  /* On narrower viewports, tile the editors vertically */
  .editor-panes {
    grid-template-areas: 'status' 'html' 'python';
    grid-template-rows: min-content 1fr 1fr;
    grid-template-columns: 1fr;
  }
}

.markdown-body ul {
  padding-left: 1rem;
}

.markdown-body ul p {
  margin-bottom: 0;
}

/** The default padding looks too large for reasoning sections. */
.reasoning-body p {
  margin-bottom: 0.25rem;
}

.spinner-border-text {
  margin: 0.1em;
  --bs-spinner-width: 0.8em;
  --bs-spinner-height: 0.8em;
  --bs-spinner-border-width: 0.15em;
}

.bi-fw {
  width: 1em;
  height: 1em;
}

.bi-fw::before {
  vertical-align: unset;
}
