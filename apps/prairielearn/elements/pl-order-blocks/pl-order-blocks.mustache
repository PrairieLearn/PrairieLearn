{{#question}}
<script>
$(function() {
    var UUID = "{{uuid}}";

    new window.PLOrderBlocks(UUID, {
        maxIndent: {{max_indent}},
        enableIndentation: {{check_indentation}}
    });
});
</script>

    <div class="d-flex flex-wrap">
        <div class="pl-order-blocks-container {{dropzone_layout}}">
            <div class="card-header pl-order-blocks-header list-group-item-primary">{{source-header}}</div>
            <ul id="order-blocks-options-{{uuid}}" name="{{answer_name}}" class="card-body list-group pl-order-blocks-connected-sortable {{inline}}">
                {{#options}}
                    <li class="{{block_formatting}} shadow" uuid="{{uuid}}" string="{{inner_html}}">{{{inner_html}}}</li>
                {{/options}}
            </ul>
        </div>
        <div class="pl-order-blocks-container {{dropzone_layout}}">
            <div class="card-header pl-order-blocks-header list-group-item-primary">
                <span class="mr-2">{{solution-header}}</span>
                <a role="button" style="vertical-align:middle;" class="btn btn-light btn-sm" data-toggle="popover" data-html="true" title="Order Blocks" data-content="{{help_text}}" data-trigger="focus" tabindex="0">
                    <i class="fa fa-question-circle" aria-hidden="true"></i>
                </a>
            </div>
            <ul id="order-blocks-dropzone-{{uuid}}" name="{{answer_name}}" class="card-body list-group pl-order-blocks-connected-sortable dropzone">
                {{#submission_dict}}
                    <li uuid="{{uuid}}" string="{{inner_html}}" style='margin-left: {{indent}}px;' class="{{block_formatting}} shadow">{{{inner_html}}}</li>
                {{/submission_dict}}
            </ul>
        </div>
    </div>
    <input id="{{uuid}}-input" type="hidden" name="{{answer_name}}-input" value=""/>

{{/question}}

{{#submission}}
    {{^parse-error}}
    <div class="pl-order-blocks-answer-container">
        <div class="card-header">
            Your answer:
        {{#correct}}
            <span class="badge badge-success"><i class="fa fa-check" aria-hidden="true"></i> 100%</span>
        {{/correct}}
        {{#partially_correct}}
            <span class="badge badge-warning"><i class="fa fa-times" aria-hidden="true"></i>{{partially_correct}}%</span>
        {{/partially_correct}}
        {{#incorrect}}
            <span class="badge badge-danger"><i class="fa fa-times" aria-hidden="true"></i> 0%</span>
        {{/incorrect}}
            </li>
        </ul>
        <ul class="list-group submission_table">
            {{#student_submission}}
            	<li class="{{block_formatting}}" style="margin-left: {{indent}}px;">
                    {{#first-wrong}}
                        {{#show-distractor-feedback}}
                            <div class="feedback_badge_container_white">
                                <span class="badge {{badge_type}} "><i class="fa {{icon}}" aria-hidden="true"></i></span>
                                <span>{{{inner_html}}}</span>
                            </div>
                            <div style="margin: 10px" >
                                <div >
                                    <span class="feedback-tag" > <i class="fa fa-question-circle" aria-hidden="true"></i></span>
                                    {{distractor-feedback}}
                                </div>
                            </div>
                            {{/show-distractor-feedback}}
                            {{^show-distractor-feedback}}
                            <div class="feedback_badge_container">
                                <span class="badge {{badge_type}} "><i class="fa {{icon}}" aria-hidden="true"></i></span>
                                <span>{{{inner_html}}}</span>
                            </div>
                        {{/show-distractor-feedback}}
                    {{/first-wrong}}
                    {{^first-wrong}}
                        {{{inner_html}}}
                    {{/first-wrong}}
                </li>
            {{/student_submission}}
        </ul>
        {{{feedback}}}
    {{/parse-error}}

    {{#parse-error}}
        <strong>Your answer: </strong>
        <div id="pl-order-blocks" class="d-inline-block">
            <span class="badge text-danger badge-invalid"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Invalid</span>
            <a role="button" class="btn btn-sm btn-secondary small border" data-placement="auto" data-trigger="focus" data-toggle="popover" data-html="true" style="margin-left: 5px" title="Format Error" tabindex="0" data-content="{{parse-error}}"> Why <i class="fa fa-question-circle" aria-hidden="true"></i></a>
        </div>
    {{/parse-error}}
    </div>
{{/submission}}


{{#true_answer}}
    <div class="true_answer_container">
        <ul class="list-group">
            <li class="list-group-item list-group-item-success"><strong>Correct answer ({{ordering_message}}{{indentation_message}}):</strong></li>
        </ul>
        <ul class="list-group answer_table">
        {{#question_solution}}
            <li class="{{block_formatting}}" style="margin-left: {{indent}}px">{{{inner_html}}}</li>
        {{/question_solution}}
        </ul>
        {{#show-distractors}}
        </br>
        <ul class="list-group">
        <li class="list-group-item list-group-item-danger"><strong>
        Incorrect Blocks (these blocks should not be included in your solution):</strong></li>
        </ul>
        <ul class="list-group answer_table" style="list-style-type:none;">
        {{#distractor-feedback}}
            <li>
                <div class="{{block_formatting}}">{{{inner_html}}}</div>
                {{#has-distractor-feedback}}
                <div style="margin: 10px" >
                    <div >
                        <span class="feedback-tag" > <i class="fa fa-question-circle" aria-hidden="true"></i></span>
                        {{distractor-feedback}}
                    </div>
                </div>
                {{/has-distractor-feedback}}
            </li>
        {{/distractor-feedback}}
        </ul>
        {{/show-distractors}}
    </div>
{{/true_answer}}
