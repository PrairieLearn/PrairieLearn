<!DOCTYPE html>
<html>
    <head>
        <%- include('../partials/head'); %>
        <script src="/javascripts/lodash.min.js"></script>
        <script src="/javascripts/d3.min.js"></script>
        <script src="/localscripts/histmini.js"></script>
        <style>
            .popover{
                max-width: 100%;
            }
        </style>
    </head>
    <body>
        <script>
            $(function() {
                $('[data-toggle="popover"]').popover({
                    sanitize: false
                })
            });
            // make the file inputs display the file name
            $(document).on('change', '.custom-file-input', function () {
                let fileName = $(this).val().replace(/\\/g, '/').replace(/.*\//, '');
                $(this).parent('.custom-file').find('.custom-file-label').text(fileName);
            });
        </script>
        <%- include('../partials/navbar'); %>
        <div id="content" class="container-fluid">
            <%- include('../partials/navtabs'); %>
            <div class="card mb-4">
                <div class="card-header bg-primary text-white d-flex">
                    Course <%= course.short_name %>
                </div>

                <div class="table-responsive">
                    <table class="table table-sm table-hover two-column-description">
                        <tbody>
                            <tr><th>Short Name</th><td><%= course.short_name %></td></tr>
                            <tr><th>Title</th><td><%= course.title %></td></tr>
                            <tr><th>Timezone</th><td><%= course.display_timezone %></td></tr>
                            <tr><th>Grading Queue</th><td><%= course.grading_queue %></td></tr>
                            <tr><th>Path</th><td><%= course.path %></td></tr>
                            <tr><th>Repository</th><td><%= course.repository %></td></tr>
                            <tr>
                                <th>Files</th>
                                <td><%- include('../partials/instructorFileList', {
                                                    files_to_list: locals.files.files,
                                                    file_label: "",
                                                    file_dir: "",
                                                    file_url: urlPrefix + "/course_admin"}); %></td>
                            </tr>
                            <tr>
                                <th>Client Files</th>
                                <td><%- include('../partials/instructorFileList', {
                                                    files_to_list: locals.files.clientFiles,
                                                    file_label: "Client",
                                                    file_dir: "clientFilesCourse",
                                                    file_url: urlPrefix + "/course_admin"}); %></td>
                            </tr>
                            <tr>
                                <th>Server Files</th>
                                <td><%- include('../partials/instructorFileList', {
                                                    files_to_list: locals.files.serverFiles,
                                                    file_label: "Server",
                                                    file_dir: "serverFilesCourse",
                                                    file_url: urlPrefix + "/course_admin"}); %></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </body>
</html>
