
<style>
 img {
     display: block;
     margin-left: auto;
     margin-right: auto;
     margin-top: 15px;
     margin-bottom: 15px;
 }
 .code-block {
     font-family: SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
     background: #f0f0f0;
     width: 70%;
     margin-left: auto;
     margin-right: auto;
 }
 .code-block > pre {
     padding: 0.5rem;
     display: block;
     margin-bottom: 0px;
     line-height: 125%;
     overflow: wrap;
     overflow-wrap: normal;
 }
</style>

<p>
    Thanks to <a href="https://github.com/nicknytko">Nicolas Nytko</a> (CS MS '22), <a href="https://github.com/bowmnath">Nathan Bowman</a>, and <a href="https://github.com/inducer">Andreas Kl&ouml;ckner</a>, vast improvements have been made to the default Python autograder.  Among some of the added features include the ability to autograde various datatypes like NumPy arrays, Pandas DataFrames, and Matplotlib plots:
</p>

<img src="plot_grading.png" width="756px">

<p>
    Also included is the new <code class="user-output">pl-external-grader-variables</code> element, which gives students a clear overview of what variables they should expect to define and have access to.  This element is available for any question, not just those on the new autograder.  These lists of variables can be defined in <code class="user-output">data['params']</code>:
</p>

<div class="mb-2 rounded code-block">
<pre><code>data["params"]["names_for_user"] = [
    {"name": "n", "description": r"Dimensionality of $\mathbf{A}$ and $\mathbf{b}$.",
     "type": "integer"},
    {"name": "A", "description": r"Matrix $\mathbf{A}$.", "type": "numpy array"},
    {"name": "b", "description": r"Vector $\mathbf{b}$.", "type": "numpy array"}
]
data["params"]["names_from_user"] = [
    {"name": "x", "description": r"Solution to $\mathbf{Ax}=\mathbf{b}$.",
     "type": "numpy array"}
]
</code></pre>
</div>

<img class="border rounded pt-2" src="variable_description.png" width="739px">

<p> The new autograder is included by default in the <code class="user-output">grader-python</code> docker image, to take advantage of it you can point your external grading image and entrypoint accordingly: </p> 

<div class="mb-2 rounded code-block">
<pre><code>"externalGradingOptions": {
    "image": "prairielearn/grader-python",
    "entrypoint": "/python_autograder/run.sh"
}
</code></pre>
</div>

<p> To read more about the <i>awesome</i> features of the new grader you can check out the documentation on <a href="https://prairielearn.readthedocs.io/en/latest/python-grader/">Read the Docs</a>, or view the sample questions in the example course &mdash; XC 101. </p>

<hr class="mt-5">
<p class="text-right small">
  Want to help make PrairieLearn better? It's open source and <a href="https://github.com/PrairieLearn/PrairieLearn">contributions are welcome!</a>
</p>
