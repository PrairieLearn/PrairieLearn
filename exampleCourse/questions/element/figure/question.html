<pl-question-panel>
    <p>
        Questions below are to showcase different features of <code>pl-figure</code>.
        The goal of this element is to display statically and dynamically generated images.
    </p>
</pl-question-panel>

<div class="card my-2">
    <div class="card-header">
        Part 1
    </div>

    <div class="card-body">
        <pl-question-panel>
            <p>
                Here is an example of of a static figure.
                By default, <code>pl-figure</code> will read static files from the <code>clientFilesQuestion</code> directory or from <code>clientFilesCourse</code> directory if overridden using the <code>directory</code> attribute.
                Depending on the display size of the window, the size of the displayed figure will automatically adjust to fit within the window.
            </p>
            <pl-figure file-name="sin-x.png"></pl-figure>
        </pl-question-panel>
    </div>
</div>

<div class="card my-2">
    <div class="card-header">
        Part 2
    </div>

    <div class="card-body">
        <pl-question-panel>
            <p>
                Here is an example of a fixed width figure.
                The width of the displayed figure can be set using the <code>width</code> attribute; the size of the figure will automatically shrink if the the specified <code>width</code> is too big for the display window.
            </p>
            <pl-figure file-name="sin-x.png" width="300px"></pl-figure>
        </pl-question-panel>
    </div>
</div>

<div class="card my-2">
    <div class="card-header">
        Part 3
    </div>

    <div class="card-body">
        <pl-question-panel>
            <p>
                Here is an example of a dynamic figure.  The contents of a dynamic image can be generated using the <code>file()</code> function inside <code>server.py</code> when
                the attribute <code>type="dynamic"</code> is set in the element tag.
            </p>
            <pl-figure file-name="cos-x.png" type="dynamic"></pl-figure>
<pl-code language="python">
    import matplotlib.pyplot as plt
    import numpy as np
    import io
    import random
    
    def file(data):
        if data['filename'] == 'cos-x.png':
            # data points
            # coeff cos(x) from -5 * pi 5 * pi, stepping 0.01
            coeff = random.randint(1, 5)
            x = np.arange(-5 * np.pi, 5 * np.pi, 0.01)
            y = coeff * np.cos(x)
    
            # create plot
            plt.plot(x, y)
            plt.title(f"{coeff} * cos(x)")
            plt.xlabel("x values")
            plt.ylabel("y values")
            plt.ylim(-6, 6)
    
            # save plot as utf-8 bytes
            f = io.BytesIO()
            plt.savefig(f, format='png')
            return f    
</pl-code>
        </pl-question-panel>
    </div>
</div>

<div class="card my-2">
    <div class="card-header">
        Part 4
    </div>

    <div class="card-body">
        <pl-question-panel>
            <p>
                Here is an example of inline figures.
            </p>
            <br>
            <p>
                Select <pl-figure file-name="true.png" inline="true"></pl-figure> instead of <pl-figure file-name="false.png" inline="true"></pl-figure> from below.
            </p>
        </pl-question-panel>
        <pl-multiple-choice answers-name="booleans">
            <pl-answer correct="true">Select this: <pl-figure file-name="true.png" inline="true"></pl-figure></pl-answer>
            <pl-answer>Not this: <pl-figure file-name="false.png" inline="true"></pl-figure></pl-answer>
        </pl-multiple-choice>
        <br>
        <p>
            Use <code>inline="true"</code> to embed a figure inline with the rest of the elements, like texts.
            For example, the "true" image is displayed with:
        </p>
        <pl-code language="html">&lt;pl-figure file-name="true.png" inline="true"&gt;&lt;/pl-figure&gt;</pl-code>
    </div>
</div>
