<pl-question-panel>
  <p>
    The following examples below were created to show the capabilities of the <a href="http://prairielearn.readthedocs.io/en/latest/elements/#pl-python-variable"><code>pl-python-variable</code></a> element, which allows formatting and rendering various Python variables defined in the <code>server.py</code> on a question page.  For example, Pandas DataFrames can be set to a parameter and then rendered on the page a la Jupyter Notebook, or ordinary Python variables can be displayed in text format.
  </p>
</pl-question-panel>

<div class="card my-2">
  <div class="card-body">
  <p>
    Here is an example with a Pandas DataFrame input.  Note that if you are setting a value in <code>data['params']</code> to a DataFrame, you can use PrairieLearn's built-in <code>pl.to_json()</code> function.
    We've set <code>show-dtype="true"</code>
  </p>
  <pl-code source-file-name="test.py"></pl-code>
  <pl-python-variable params-name="df" show-dtype="true"></pl-python-variable>
  <p>
    By default, a Pandas DataFrame will display its index column and header row, as well as a postscript label with the table dimensions. You can toggle these with attributes on the <code>pl-python-variable</code> tag.
    Here, we've set the following: <code>show-header="false" show-index="false" show-dimensions="false" show-dtype="false" digits="4"</code>:
  </p>
  <pl-python-variable params-name="df" show-header="false" show-index="false" show-dimensions="false" digits="4"></pl-python-variable>
  <p>
    Here's another Pandas DataFrame. This DataFrame has timestamps and uses the new encoding rule in <code>pl.to_json()</code> by setting the keyword argument <code>df_encoding_version=2</code>.
  </p>
  <pl-python-variable params-name="df2" show-dimensions="true" show-dtype="true" digits="2"></pl-python-variable>
  <p>
    Here is the same example with <code>text="true"</code>, forcing the variable to be rendered in its textual representation. The <code>show-header</code>, <code>show-index</code>, and <code>show-dimensions</code> attributes don't affect this.
  </p>
  <pl-python-variable params-name="df" text="true"></pl-python-variable>
  </div>
</div>


<div class="card my-2">
  <div class="card-body">
  <p>
    Here is a randomly generated matrix created by calling <code>np.random.random((3, 3))</code>.  Any variables will be converted using <code>repr()</code> if they are being shown as <code>text</code>.
  </p>
  <pl-python-variable params-name="matrix"></pl-python-variable>
  </div>
</div>

<div class="card my-2">
  <div class="card-body">
  <p>Here is an example displaying a dictionary.  You can add additional text to the output by using the <code>prefix</code> and <code>suffix</code> attributes.</p>
  <pl-python-variable params-name="my_dictionary" prefix="my_dictionary = "></pl-python-variable>
  </div>
</div>

<div class="card my-2">
  <div class="card-body">
  <p>Here is an example displaying a dictionary with line breaks.</p>
  <pl-python-variable params-name="my_dictionary" prefix="my_dictionary = " add-line-breaks="true"></pl-python-variable>
  </div>
</div>

<div class="card my-2">
  <div class="card-body">
  <p>Here is an example displaying a list with line breaks.</p>
  <pl-python-variable params-name="my_list" prefix="my_list = " add-line-breaks="true"></pl-python-variable>
  </div>
</div>
