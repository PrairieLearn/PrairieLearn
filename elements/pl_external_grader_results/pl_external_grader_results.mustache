{{#graded}}
<div class="pl-external-grader-results">
  {{^grading_succeeded}}
    <h3>Grading failed!</h3>
    {{#message}}
      <pre class="terminal-output termial-output-question-panel"><code>{{message}}</code></pre>
    {{/message}}
    {{^message}}
      <pre class="terminal-output termial-output-question-panel"><code>Unknown error; please contact course staff.</code></pre>
    {{/message}}
  {{/grading_succeeded}}
  {{#grading_succeeded}}
    <h3>Score:
      <span style="color: {{results_color}}"
      {{#points}}
      <strong>{{points}}/{{max_points}} ({{score}}%)</strong>
      {{/points}}
      {{^points}}
      <strong>{{score}}%</strong>
      {{/points}}
      </span>
    </h3>
    {{#has_message_or_output}}
      {{#has_message}}
        <div class="panel-group">
          <div class="panel panel-default">
            <div class="panel-heading"><h4 class="panel-title">Message</h4></div>
            <pre class="terminal-output termial-output-question-panel"><code>{{message}}</code></pre>
          </div>
        </div>
      {{/has_message}}
      {{#has_output}}
        <div class="panel-group">
          <div class="panel panel-default">
            <div class="panel-heading"><h4 class="panel-title">Output</h4></div>
            <pre class="terminal-output termial-output-question-panel"><code>{{output}}
          </div>
        </div>
      {{/has_output}}
    {{/has_message_or_output}}
    <h3>Test Results</h3>
    {{^has_tests}}
      <p>No detailed test results available.</p>
    {{/has_tests}}
    {{#has_tests}}
      {{#tests}}
        <div class="panel panel-default">
          <div class="panel-heading collapsed" data-toggle="collapse" data-target="#panel-{{uuid}}-{{index}}" style="cursor: pointer;">
            <div class="panel-heading-left">
              <h4 class="panel-title">
                <span class="glyphicon {{results_icon}}" aria-hidden="true" style="color: {{results_color}}"></span>
                <span style="color: {{results_color}}; margin-left: 5px;"><strong>[{{points}}/{{max_points}}]</strong></span>
                <span style="margin-left: 5px;">{{name}}</span>
              </h4>
            </div>
            <div class="panel-heading-right">
              <span class="glyphicon glyphicon-chevron-down"></span>
            </div>
          </div>
          <div id="panel-{{uuid}}-{{index}}" class="panel-collapse collapse">
            <ul class="list-group">
              {{#has_description}}
                <li class="list-group-item"><strong>Description:</strong> {{description}}</li>
              {{/has_description}}
              <li class="list-group-item"><strong>Max points:</strong> {{max_points}}</li>
              <li class="list-group-item"><strong>Earned points:</strong> {{points}}</li>
              {{#has_message}}
                <li class="list-group-item">
                  <div><strong>Message</strong></div>
                  <pre style="background: black; white-space: pre-wrap; overflow-y: auto; overflow-x: hidden; max-height: 200px"><code style="color: white; font-family: monospace;">{{message}}</code></pre>
                </li>
              {{/has_message}}
              {{#has_output}}
                <li class="list-group-item">
                  <div><strong>Output</strong></div>
                  <pre style="background: black; white-space: pre-wrap; overflow-y: auto; overflow-x: hidden; max-height: 200px;"><code style="color: white; font-family: monospace;">{{output}}</code></pre>
                </li>
              {{/has_output}}
            </ul>
          </div>
        </div>
      {{/tests}}
    {{/has_tests}}
  {{/grading_succeeded}}
</div>
{{/graded}}
