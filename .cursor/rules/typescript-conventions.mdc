---
description: TypeScript Conventions
globs: **/*.ts,**/*.tsx
alwaysApply: false
---
# TypeScript Conventions

## Code Style
- Use `async`/`await` for asynchronous operations
- Use `===` operator (never `==` except for ID comparisons with `idsEqual()`)
- Use explicit typing for all variables and function parameters
- Use tagged template literals with `@prairielearn/html` for HTML generation

## Error Handling
- Use `HttpStatusError` for HTTP errors
- Log errors with Winston logger:
```typescript
import { logger } from '@prairielearn/logger';

logger.info('This is an info message');
logger.error('This is an error message');
```

## Component Structure
- Place components in `apps/prairielearn/src/components/`
- Consider writing the component in Preact
- Accept typed props objects instead of using `res.locals` when possible
- Use Bootstrap 5 classes for styling
- Minimize custom CSS
- Example:
```typescript
interface ComponentProps {
  title: string;
  content: string;
}

export function MyComponent(props: ComponentProps) {
  return html`
    <div class="card">
      <div class="card-header">${props.title}</div>
      <div class="card-body">${props.content}</div>
    </div>
  `;
}
```
